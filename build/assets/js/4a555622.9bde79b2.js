"use strict";(self.webpackChunkcityscope_docs=self.webpackChunkcityscope_docs||[]).push([[117],{3635:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>a,contentTitle:()=>c,default:()=>u,frontMatter:()=>s,metadata:()=>r,toc:()=>d});var o=i(4848),n=i(8453);const s={sidebar_position:5},c=void 0,r={id:"cityio/CityIO - Core",title:"CityIO - Core",description:"The objective of this interface is to facilitate the integration of core modules into the CityScope network.",source:"@site/docs/cityio/CityIO - Core.md",sourceDirName:"cityio",slug:"/cityio/CityIO - Core",permalink:"/cityio/CityIO - Core",draft:!1,unlisted:!1,editUrl:"https://github.com/CityScope/cityscope.github.io/docs/cityio/CityIO - Core.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"sidebar",previous:{title:"CityIO - Module",permalink:"/cityio/CityIO - Module"},next:{title:"API",permalink:"/cityio/API"}},a={},d=[{value:"Message Flow",id:"message-flow",level:2},{value:"Initial connection",id:"initial-connection",level:2},{value:"Subscription request",id:"subscription-request",level:2},{value:"Subscription removal request",id:"subscription-removal-request",level:2}];function l(e){const t={code:"code",h2:"h2",img:"img",p:"p",...(0,n.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"The objective of this interface is to facilitate the integration of core modules into the CityScope network."}),"\n",(0,o.jsx)(t.h2,{id:"message-flow",children:"Message Flow"}),"\n",(0,o.jsx)(t.p,{children:"The following subsections will detail the various data exchanges that can take place between CityIO and the Core Modules."}),"\n",(0,o.jsx)(t.h2,{id:"initial-connection",children:"Initial connection"}),"\n",(0,o.jsxs)(t.p,{children:["To integrate a core module into the CityScope network, the module can establish a connection via the ",(0,o.jsx)(t.code,{children:"/module/core"})," endpoint. Upon successful connection, the module should send a CORE_MODULE_REGISTRATION message containing information to identify the module."]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Initial Connection",src:i(733).A+"",width:"1042",height:"338"})}),"\n",(0,o.jsx)(t.h2,{id:"subscription-request",children:"Subscription request"}),"\n",(0,o.jsx)(t.p,{children:"When a user, through a user interface, wishes to connect a module to a project, they send a request to CityIO. This request is then forwarded to the core module as a SUBSCRIPTION_REQUEST message. If the module is available, the core module should respond by sending a SUBSCRIBE message to CityIO, including the identifier of the grid that requires the module's services. Upon receiving the grid information, the core module should calculate the necessary indicator and transmit this data back to CityIO."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Subscription Request",src:i(4976).A+"",width:"788",height:"385"})}),"\n",(0,o.jsx)(t.h2,{id:"subscription-removal-request",children:"Subscription removal request"}),"\n",(0,o.jsx)(t.p,{children:"If a user wishes to disconnect a module from a project, they can send a module removal request to CityIO. This request will be forwarded to the Core Module as a SUBSCRIPTION_REMOVAL_REQUEST. Upon receiving this message, the Core Module should then UNSUBSCRIBE from the project."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Subscription Removal Request",src:i(7976).A+"",width:"709",height:"292"})})]})}function u(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},733:(e,t,i)=>{i.d(t,{A:()=>o});const o=i.p+"assets/images/initialcon-42240e1d4ec5ae66a2c9f36bbdff6cad.png"},7976:(e,t,i)=>{i.d(t,{A:()=>o});const o=i.p+"assets/images/subremovalrequest-fc67d08ec2f9ff21a4a7f7ead1fd9245.png"},4976:(e,t,i)=>{i.d(t,{A:()=>o});const o=i.p+"assets/images/subrequest-92c3c8a1abe3c94ee34328d8849c4751.png"},8453:(e,t,i)=>{i.d(t,{R:()=>c,x:()=>r});var o=i(6540);const n={},s=o.createContext(n);function c(e){const t=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),o.createElement(s.Provider,{value:t},e.children)}}}]);