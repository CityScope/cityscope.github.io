"use strict";(self.webpackChunkcityscope_docs=self.webpackChunkcityscope_docs||[]).push([[379],{1452:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>c});var n=t(4848),l=t(8453);const a={id:"CityIO"},s="[Archive] CityIO",r={id:"archive/cityio/CityIO",title:"[Archive] CityIO",description:"- data-hub (dump?) to have several clients work together",source:"@site/docs/archive/cityio/cityio.md",sourceDirName:"archive/cityio",slug:"/archive/cityio/",permalink:"/archive/cityio/",draft:!1,unlisted:!1,editUrl:"https://github.com/CityScope/cityscope.github.io/docs/archive/cityio/cityio.md",tags:[],version:"current",frontMatter:{id:"CityIO"},sidebar:"sidebar",previous:{title:"Tutorials",permalink:"/archive/brix/Tutorial/"},next:{title:"API",permalink:"/archive/cityio/API"}},d={},c=[{value:"welcome page with links to available tables",id:"welcome-page-with-links-to-available-tables",level:2},{value:"dev endpoints",id:"dev-endpoints",level:2},{value:"list available tables",id:"list-available-tables",level:2},{value:"get table data",id:"get-table-data",level:2},{value:"post table data",id:"post-table-data",level:2},{value:"delete table data",id:"delete-table-data",level:2},{value:"delete module data",id:"delete-module-data",level:2}];function o(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.h1,{id:"archive-cityio",children:"[Archive] CityIO"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"data-hub (dump?) to have several clients work together"}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"(lower case)architecture to enforce collaboration within network"}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"server program"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"saves tables to have different software (visualization, simulation) read/write information"}),"\n",(0,n.jsx)(i.li,{children:"exposes a REST API (=url's) to serve json files, representiving table info"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.h1,{id:"resources",children:"Resources"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.a,{href:"https://github.com/mitmedialab/cityioserver/wiki/API",children:"API"})}),"\n",(0,n.jsx)(i.p,{children:"shows the endpoint URLs for clients to operate various request through HTTP. (ex. Getting a table data, Updating table data... etc.)"}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.a,{href:"https://github.com/mitmedialab/cityioserver/wiki/Client-Examples",children:"Client Examples"})}),"\n",(0,n.jsx)(i.p,{children:"shows hello world examples from each client in different frameworks (GAMA, Grasshopper, Unity ... etc)"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.h2,{id:"welcome-page-with-links-to-available-tables",children:[(0,n.jsx)(i.a,{href:"https://cityio.media.mit.edu",children:"welcome page"})," with links to available tables"]}),"\n",(0,n.jsx)(i.h1,{id:"api",children:"API"}),"\n",(0,n.jsxs)(i.p,{children:["[baseurl] ",(0,n.jsx)(i.a,{href:"https://cityio.media.mit.edu",children:"https://cityio.media.mit.edu"})]}),"\n",(0,n.jsx)(i.h2,{id:"dev-endpoints",children:"dev endpoints"}),"\n",(0,n.jsx)(i.p,{children:"endpoints in development will have /dev before the api"}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.code,{children:"https://cityio.media.mit.edu/dev/api/table/:tableName"})}),"\n",(0,n.jsx)(i.h2,{id:"list-available-tables",children:"list available tables"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"[GET] https://cityio.media.mit.edu/api/tables/list\n"})}),"\n",(0,n.jsx)(i.h2,{id:"get-table-data",children:"get table data"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"[GET] https://cityio.media.mit.edu/api/table/:tableName\n"})}),"\n",(0,n.jsx)(i.p,{children:"params:"}),"\n",(0,n.jsx)(i.p,{children:"tableName : name of table"}),"\n",(0,n.jsx)(i.p,{children:"format: json/application"}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.a,{href:"https://cityio.media.mit.edu/table/:tableName",children:"https://cityio.media.mit.edu/table/:tableName"})," is ",(0,n.jsx)(i.strong,{children:"deprecated"})]}),"\n",(0,n.jsx)(i.h2,{id:"post-table-data",children:"post table data"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"[POST] https://cityio.media.mit.edu/api/table/update/:tableName\n"})}),"\n",(0,n.jsx)(i.p,{children:"params:"}),"\n",(0,n.jsx)(i.p,{children:"tableName: name of table"}),"\n",(0,n.jsx)(i.p,{children:"body"}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.code,{children:"text/plain"})," or ",(0,n.jsx)(i.code,{children:"json/application"})," format accepted."]}),"\n",(0,n.jsxs)(i.p,{children:["text will be converted to json internally, will throw an error if it's not\nvalid json. Server welcomes any valid json, but only things inside ",(0,n.jsx)(i.code,{children:"objects"})," and ",(0,n.jsx)(i.code,{children:"grid"})," objects\nwill be used for comparison to detect uniqueness."]}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.a,{href:"https://cityio.media.mit.edu/table/update/:tableName",children:"https://cityio.media.mit.edu/table/update/:tableName"})," is ",(0,n.jsx)(i.strong,{children:"deprecated"})]}),"\n",(0,n.jsx)(i.h2,{id:"delete-table-data",children:"delete table data"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"[GET] https://cityio.media.mit.edu/api/table/clear/:tablename\n"})}),"\n",(0,n.jsx)(i.p,{children:"params:"}),"\n",(0,n.jsx)(i.p,{children:"tableName: name of table"}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.strong,{children:"be careful! will delete all data from memory cache and DB"})}),"\n",(0,n.jsx)(i.h2,{id:"delete-module-data",children:"delete module data"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"[GET] https://cityio.media.mit.edu/api/table/clear/:tablename/:modulename\n"})}),"\n",(0,n.jsx)(i.p,{children:"params:"}),"\n",(0,n.jsx)(i.p,{children:"tablename: name of table\nmodulename: name of module"}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.strong,{children:"be careful! will delete all data from memory cache and DB"})}),"\n",(0,n.jsx)(i.h1,{id:"how-to-run-it-locally",children:"How to run it Locally"}),"\n",(0,n.jsx)(i.p,{children:"The current version is developed using rust."}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:["install ",(0,n.jsx)(i.a,{href:"https://www.rust-lang.org/tools/install",children:"rust"})]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"clone this repository"}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:["clone ",(0,n.jsx)(i.a,{href:"https://github.com/yasushisakai/sha256",children:"sha256 repo"})]}),"\n",(0,n.jsx)(i.p,{children:"this repo should live in the same directory as the main repo"}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:"get db credentials from yasushi, save it in the root of this repo"}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.code,{children:"cargo run --bin server --release"})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"this will compile the program and run it in port 8080"}),"\n",(0,n.jsx)(i.p,{children:"the server will now run locally"})]})}function h(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},8453:(e,i,t)=>{t.d(i,{R:()=>s,x:()=>r});var n=t(6540);const l={},a=n.createContext(l);function s(e){const i=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),n.createElement(a.Provider,{value:i},e.children)}}}]);