(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{73:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return a})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return c}));var o=n(2),r=(n(0),n(86));const i={id:"Docs Development"},a={unversionedId:"general/Docs Development",id:"general/Docs Development",isDocsHomePage:!1,title:"Docs Development",description:"How to Contribute to the Development of this documentation site?",source:"@site/docs/general/docs_dev.md",slug:"/general/Docs Development",permalink:"/general/Docs Development",editUrl:"https://github.com/CityScope/cityscope.github.io/blob/new_docsite/docsite/docs/general/docs_dev.md",version:"current",sidebar:"sidebar",previous:{title:"Guideline",permalink:"/general/Guideline"},next:{title:"Open Source",permalink:"/general/Open Source"}},l=[{value:"How to Contribute to the Development of this documentation site?",id:"how-to-contribute-to-the-development-of-this-documentation-site",children:[]},{value:"Auto pull documentation from other repositories",id:"auto-pull-documentation-from-other-repositories",children:[]}],p={rightToc:l};function c({components:e,...t}){return Object(r.b)("wrapper",Object(o.a)({},p,t,{components:e,mdxType:"MDXLayout"}),Object(r.b)("h3",{id:"how-to-contribute-to-the-development-of-this-documentation-site"},"How to Contribute to the Development of this documentation site?"),Object(r.b)("p",null,"Development of documentation takes place in ",Object(r.b)("inlineCode",{parentName:"p"},"dev")," branch. The ",Object(r.b)("inlineCode",{parentName:"p"},"master")," branch holds the build version of this website."),Object(r.b)("p",null,"Building from ",Object(r.b)("inlineCode",{parentName:"p"},"dev")," to ",Object(r.b)("inlineCode",{parentName:"p"},"master")," branches include the following steps:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"complete your code edits, push or PR to ",Object(r.b)("inlineCode",{parentName:"li"},"dev")),Object(r.b)("li",{parentName:"ul"},"run ",Object(r.b)("inlineCode",{parentName:"li"},"GIT_USER=__USER WITH PUSH PREV__ yarn deploy"))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"We appreciate your feedback via issues/pull requests.")),Object(r.b)("h3",{id:"auto-pull-documentation-from-other-repositories"},"Auto pull documentation from other repositories"),Object(r.b)("p",null,"In most cases, every model builder will develop their own independent documentation. We built a workflow using GitHub actions that will pull the relevant files from every downstream repository and add it to this documentation site. That way, the source of truth for every repository still lives in the repo where the code is. "),Object(r.b)("p",null,"To add your repository to this documentation site, link the markdown files by editing ",Object(r.b)("inlineCode",{parentName:"p"},"pull_docs.yml")," file located at ",Object(r.b)("inlineCode",{parentName:"p"},".github/workflows/pull_docs.yml"),". Use the following syntax to add a new block:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},"  - name: Update REPO_NAME\n    run: bash .github/scripts/update.sh -o REPO_NAME_OWNER -r REPO_NAME (-d DESTINATION_PATH) (-s SOURCE_FILE_PATH) (-l REPO_LABEL)\n")),Object(r.b)("p",null,"In the ",Object(r.b)("inlineCode",{parentName:"p"},"yml")," file you'll probably see other repositories linked. Make sure to match the indentation level of them and that ",Object(r.b)("inlineCode",{parentName:"p"},"name")," and ",Object(r.b)("inlineCode",{parentName:"p"},"run")," are at the same level. "),Object(r.b)("p",null,"The documentation will be generated at: ",Object(r.b)("inlineCode",{parentName:"p"},"<DESTINATION_PATH>/<REPO_LABEL>.md"),". ",Object(r.b)("inlineCode",{parentName:"p"},"REPO_LABEL")," is inferred by default from your ",Object(r.b)("inlineCode",{parentName:"p"},"REPO_NAME")," by removing the prefix ",Object(r.b)("inlineCode",{parentName:"p"},"CS_")," if it exists (e.g. ",Object(r.b)("inlineCode",{parentName:"p"},"CS_Brix")," becomes ",Object(r.b)("inlineCode",{parentName:"p"},"Brix")," and ",Object(r.b)("inlineCode",{parentName:"p"},"MyRepo")," stays as ",Object(r.b)("inlineCode",{parentName:"p"},"MyRepo"),"). "),Object(r.b)("p",null,"You can skip ",Object(r.b)("inlineCode",{parentName:"p"},"PATH_TO_FILE")," if your documentation is in the ",Object(r.b)("inlineCode",{parentName:"p"},"README.md"),". "),Object(r.b)("p",null,"If you are linking a wiki page, make sure to set ",Object(r.b)("inlineCode",{parentName:"p"},"REPO_NAME_OWNER=wiki/REPO_NAME_OWNER"),". If this is the case, the default ",Object(r.b)("inlineCode",{parentName:"p"},"PATH_TO_FILE")," will be ",Object(r.b)("inlineCode",{parentName:"p"},"Home.md"),"."),Object(r.b)("p",null,"If your documentation is in the ",Object(r.b)("inlineCode",{parentName:"p"},"README.md")," and your library is part of ",Object(r.b)("inlineCode",{parentName:"p"},"modules"),", you can also skip ",Object(r.b)("inlineCode",{parentName:"p"},"DESTINATION_PATH"),". In the future, we might want to make the default ",Object(r.b)("inlineCode",{parentName:"p"},"docsite/docs/one-off-projects"),"."),Object(r.b)("p",null,"For example, a simple module called ",Object(r.b)("inlineCode",{parentName:"p"},"CS_MyModule")," part of the ",Object(r.b)("inlineCode",{parentName:"p"},"CityScope")," organization that has all its documentation in ",Object(r.b)("inlineCode",{parentName:"p"},"README.md")," should be added as:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},"  - name: Update CS_MyModule\n    run: bash .github/scripts/update.sh -o CityScope -r CS_MyModule\n")),Object(r.b)("p",null,"To add the ",Object(r.b)("inlineCode",{parentName:"p"},"Home")," wiki page of a module called ",Object(r.b)("inlineCode",{parentName:"p"},"CS_MyModule"),", part of the ",Object(r.b)("inlineCode",{parentName:"p"},"CityScope")," organization, use the following block:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},"  - name: Update CS_MyModule\n    run: bash .github/scripts/update.sh -o wiki/CityScope -r CS_MyModule\n")))}c.isMDXComponent=!0},86:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var o=n(0),r=n.n(o);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=r.a.createContext({}),b=function(e){var t=r.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=b(e.components);return r.a.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},s=r.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,a=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),d=b(n),s=o,m=d["".concat(a,".").concat(s)]||d[s]||u[s]||i;return n?r.a.createElement(m,l(l({ref:t},c),{},{components:n})):r.a.createElement(m,l({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=s;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:o,a[1]=l;for(var c=2;c<i;c++)a[c]=n[c];return r.a.createElement.apply(null,a)}return r.a.createElement.apply(null,n)}s.displayName="MDXCreateElement"}}]);