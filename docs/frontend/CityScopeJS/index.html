<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<title data-react-helmet="true">CityScopeJS | Here We Build CityScope</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="CityScopeJS | Here We Build CityScope"><meta data-react-helmet="true" name="description" content="CityScope platform for the web"><meta data-react-helmet="true" property="og:description" content="CityScope platform for the web"><meta data-react-helmet="true" property="og:url" content="https://cityscope.media.mit.edu/docs/frontend/CityScopeJS"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://cityscope.media.mit.edu/docs/frontend/CityScopeJS"><link rel="stylesheet" href="/styles.1568f5f0.css">
<link rel="preload" href="/styles.a617f419.js" as="script">
<link rel="preload" href="/runtime~main.ac223198.js" as="script">
<link rel="preload" href="/main.22988140.js" as="script">
<link rel="preload" href="/1.03dee172.js" as="script">
<link rel="preload" href="/2.d8d5ec43.js" as="script">
<link rel="preload" href="/25.0a0b0dc0.js" as="script">
<link rel="preload" href="/26.aa3ec524.js" as="script">
<link rel="preload" href="/935f2afb.931b265b.js" as="script">
<link rel="preload" href="/17896441.b206846d.js" as="script">
<link rel="preload" href="/7f79ed7b.0e26c476.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/ML_logo.png" alt="Logo"><strong class="navbar__title">MIT CityScope</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/CityScope" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" src="img/">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/ML_logo.png" alt="Logo"><strong class="navbar__title">MIT CityScope</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/CityScope" target="_blank" rel="noopener noreferrer" class="menu__link" src="img/">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">About</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/general/CityScopeJS Ecosystem">CityScopeJS Ecosystem</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/general/Guideline">Guideline</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/general/Docs Development">Docs Development</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/general/Open Source">Open Source</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/general/License">License</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Frontend</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/frontend/CityScopeJS">CityScopeJS</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Interfaces</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/TUI/TUI Introduction">TUI Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/TUI/CityScoPy">CityScoPy</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Modules</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/modules/CityScope Types System">CityScope Types System</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/modules/Brix/Brix">Brix</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Backend</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/backend/CityIO/CityIO">CityIO</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Archive</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/archive/Schema">Schema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/archive/Specs">Specs</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">CityScopeJS</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="cityscope-platform-for-the-web"></a>CityScope platform for the web<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cityscope-platform-for-the-web" title="Direct link to heading">#</a></h2><p>CityScopeJS is the unified front-end for the <a href="https://cityscope.media.mit.edu/" target="_blank" rel="noopener noreferrer">MIT CityScope</a> project. CityScopeJS allows users to examine different urban-design alternatives and observe their impact through different KPIs and matrices. CityScopeJS brings together different urban analytics modules, such as traffic simulation, ABM, noise, storm-water, access.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="what-is-it-for"></a>What is it for?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-is-it-for" title="Direct link to heading">#</a></h2><p>CityScopeJS is an online tool with a web interface or tangible user interface (TUI). Using the tool, users can input land uses, buildings, open spaces or transport routes, categorize them and enrich their description with details on usability, density and other parameters. This input forms the basis for calculating the various modules and indicators.</p><h6><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="cityscopejs-web-interface"></a>CityScopeJS Web interface<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cityscopejs-web-interface" title="Direct link to heading">#</a></h6><p><img alt="TUI" src="/assets/images/web_ui-a8964ffa79f4bdd8f5c47db299d8e802.jpg"></p><h6><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="cityscopejs-tui"></a>CityScopeJS TUI<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cityscopejs-tui" title="Direct link to heading">#</a></h6><p><img alt="TUI" src="/assets/images/CityScopeJS-5c67b64921cab086329c46dfafa1715a.jpg"></p><hr><p><strong>CityScopeJS exposes two main features: <code>CityScopeJS Grid Editor</code> and <code>CityScopeJS Palyground</code></strong></p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="csjs-playground"></a>CSjs Playground<a aria-hidden="true" tabindex="-1" class="hash-link" href="#csjs-playground" title="Direct link to heading">#</a></h1><p>CSjs Playground is where users interact with the design of urban areas. The tool is built to allow snappy, real-time intervention with various land-uses. The design is then evaluated using different urban analytics modules.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="quick-start"></a>Quick Start<a aria-hidden="true" tabindex="-1" class="hash-link" href="#quick-start" title="Direct link to heading">#</a></h2><p>To explore the app for a known CityScope project, add a CityScope project name to this page URL (for example, <code>__URL__/?cityscope=corktown</code> will run <a href="https://cityscope.media.mit.edu/CS_cityscopeJS/?cityscope=corktown" target="_blank" rel="noopener noreferrer">CityScopeJS Corktown</a> project). You can also explore a list of active CityScope projects <a href="https://cityio.media.mit.edu" target="_blank" rel="noopener noreferrer">here</a>.</p><p>When in the app, edit the grid using the editing tool, and explore the different analytics updating</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="development"></a>Development<a aria-hidden="true" tabindex="-1" class="hash-link" href="#development" title="Direct link to heading">#</a></h2><p>CityScopeJS is being constantly developed through its frontend, backend and modules. This repo is subject to breaking changes.</p><p>In the project directory, you can run: <code>npm start</code> Runs the app in the development mode.<br> Open <a href="http://localhost:3000" target="_blank" rel="noopener noreferrer">http://localhost:3000</a> to view it in the browser.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="hard-reset-cityio-geogriddata-field"></a>Hard-Reset cityIO <code>GEOGRIDDATA</code> field<a aria-hidden="true" tabindex="-1" class="hash-link" href="#hard-reset-cityio-geogriddata-field" title="Direct link to heading">#</a></h4><p><strong>Note!</strong> This feature involves permanent data loss. If your dev created odd data for the grid, you can quickly reset it via:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">`$ curl https://cityio.media.mit.edu/api/table/clear/__TABLE_NAME__/GEOGRIDDATA`</span></div></div></div></div></div><hr><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="csjs-grid-editor"></a>CSjs Grid Editor<a aria-hidden="true" tabindex="-1" class="hash-link" href="#csjs-grid-editor" title="Direct link to heading">#</a></h1><p>The CSjs Grid Editor is a helper tool to bootstrap new CityScope projects. It allow a quick creation of:</p><ul><li>a CityScope endpoint on CityIO</li><li>a geo-located, 3D, editable and contextual CityScope grid</li><li>a list of land-uses to be used during the project</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="cityscopejs-schema"></a>CityScopeJS schema<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cityscopejs-schema" title="Direct link to heading">#</a></h2><p>This document illustrates the data format and standards for the deployment of a CityScopeJS instance. Being a WIP project, this is subject to change.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="data-requirements"></a>Data Requirements<a aria-hidden="true" tabindex="-1" class="hash-link" href="#data-requirements" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="geogridgeojson"></a><code>geogrid:geojson</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#geogridgeojson" title="Direct link to heading">#</a></h3><p>Minimal data for initiation is a valid GeoJson <code>FeatureCollection</code> of at least one <code>Polygon</code> feature.
Ideally, this field should be read once on init, due to its size and static state. User should not iterate over it.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;type&quot;: &quot;FeatureCollection&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;properties&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;header&quot;: {},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;interactive_mapping&quot;: {&quot;1245&quot;:{&quot;TUI&quot;:&quot;1&quot;},&quot;1472&quot;:{&quot;WEB&quot;:&quot;1&quot;}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;features&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;type&quot;: &quot;Feature&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;properties&quot;: {},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;geometry&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;type&quot;: &quot;Polygon&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;coordinates&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             __lat__,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              __long__</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div></div></div><p><strong>optional fields</strong></p><p><code>interactive_mapping</code>: maps the grid cells that are interactable via the HCI/TUI CityScope interface or web/mobile UI. This allow mixing of different interactions without overwriting. Format</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;__feature_number__&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;TUI&quot;: &quot;__TUI_CELL_NUMBER__&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;__feature_number__&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;WEB&quot;: &quot;__WEB_INTERACTION_CELL_NUMBER__&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/CityScope/cityscope.github.io/blob/new_docsite/docsite/docs/frontend/cityscopeJS.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/general/License"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« License</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/TUI/TUI Introduction"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">TUI Introduction Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#cityscope-platform-for-the-web" class="table-of-contents__link">CityScope platform for the web</a></li><li><a href="#what-is-it-for" class="table-of-contents__link">What is it for?</a></li><li><a href="#quick-start" class="table-of-contents__link">Quick Start</a></li><li><a href="#development" class="table-of-contents__link">Development</a></li><li><a href="#cityscopejs-schema" class="table-of-contents__link">CityScopeJS schema</a></li><li><a href="#data-requirements" class="table-of-contents__link">Data Requirements</a><ul><li><a href="#geogridgeojson" class="table-of-contents__link"><code>geogrid:geojson</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"><div class="margin-bottom--sm"><a href="https://github.com/CityScope" target="_blank" rel="noopener noreferrer" class="footerLogoLink_1zJy"><img class="footer__logo" alt="Logo" src="/img/ML_logo_sml.png"></a></div><div>Copyright Â© 2020 CityScope, MIT City Science</div></div></div></footer></div>
<script src="/styles.a617f419.js"></script>
<script src="/runtime~main.ac223198.js"></script>
<script src="/main.22988140.js"></script>
<script src="/1.03dee172.js"></script>
<script src="/2.d8d5ec43.js"></script>
<script src="/25.0a0b0dc0.js"></script>
<script src="/26.aa3ec524.js"></script>
<script src="/935f2afb.931b265b.js"></script>
<script src="/17896441.b206846d.js"></script>
<script src="/7f79ed7b.0e26c476.js"></script>
</body>
</html>